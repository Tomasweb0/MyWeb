<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cat & Mouse Game</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #1e1e2f;
    color: white;
    text-align: center;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* ===== SPLASH SCREEN ===== */
#splash {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle, #2b2b55, #0d0d1f);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    animation: fadeOut 1s ease forwards;
    animation-delay: 3s;
}

#logo {
    font-size: 60px;
    font-weight: bold;
    text-shadow: 0 0 25px #00ffcc;
    animation: logoAnim 3s ease forwards;
}

@keyframes logoAnim {
    0% { transform: scale(0.2); opacity: 0; }
    50% { transform: scale(1.2); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

@keyframes fadeOut {
    to {
        opacity: 0;
        visibility: hidden;
    }
}

/* ===== NAVBAR ===== */
nav {
    background: #111;
    padding: 10px;
}

nav button {
    background: none;
    border: none;
    color: white;
    font-size: 16px;
    margin: 0 10px;
    cursor: pointer;
}

nav button:hover {
    color: #00ffcc;
}

.container {
    padding: 20px;
}

input, button {
    padding: 10px;
    margin: 5px;
    border-radius: 5px;
    border: none;
}

button {
    background: #00ffcc;
    cursor: pointer;
}

/* ===== GAME ===== */
#gameArea {
    width: 600px;
    height: 400px;
    background: #333;
    margin: 20px auto;
    position: relative;
    display: none;
    overflow: hidden;
}

#cat {
    width: 40px;
    height: 40px;
    background: orange;
    position: absolute;
}

#mouse {
    width: 30px;
    height: 30px;
    background: gray;
    position: absolute;
    border-radius: 50%;
}

#score {
    font-size: 20px;
}

/* ===== FOOTER ===== */
footer {
    margin-top: auto;
    background: #111;
    padding: 15px;
}

footer a {
    color: #00ffcc;
    margin: 0 15px;
    text-decoration: none;
    font-weight: bold;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash">
    <div id="logo">üê± CAT & MOUSE üê≠</div>
</div>

<nav>
    <button onclick="showHome()">Home</button>
    <button onclick="startGame()">Game</button>
    <button onclick="alert('More games coming soon')">More Games</button>
</nav>

<div class="container" id="login">
    <h2>Login / Register</h2>
    <input id="username" placeholder="Username"><br>
    <input id="password" type="password" placeholder="Password"><br>
    <button onclick="loginUser()">Login</button>
</div>

<div class="container" id="home" style="display:none;">
    <h1>üê± Cat & Mouse üê≠</h1>
    <p>Welcome, <span id="user"></span></p>
    <button onclick="startGame()">Start Game</button>
</div>

<div id="gameArea">
    <div id="cat"></div>
    <div id="mouse"></div>
</div>

<p id="score"></p>

<footer>
    <a href="https://www.youtube.com/@SongsAreInfinite" target="_blank">üì∫ YouTube</a>
    <a href="#" onclick="alert('Discord link coming soon')">üí¨ Discord</a>
    <a href="#" onclick="alert('Instagram link coming soon')">üì∏ Instagram</a>
</footer>

<script>
let cat = document.getElementById("cat");
let mouse = document.getElementById("mouse");
let gameArea = document.getElementById("gameArea");

let catX = 280, catY = 180;
let mouseX = 100, mouseY = 100;
let speed = 20; // 4x faster
let scoreValue = 0;

/* LOGIN */
function loginUser() {
    let u = username.value;
    let p = password.value;
    if (!u || !p) return alert("Please enter username and password");

    let saved = localStorage.getItem(u);
    if (!saved) localStorage.setItem(u, p);
    else if (saved !== p) return alert("Wrong password");

    login.style.display = "none";
    home.style.display = "block";
    user.innerText = u;
}

function showHome() {
    gameArea.style.display = "none";
    home.style.display = "block";
}

/* START GAME */
function startGame() {
    scoreValue = 0;
    updateScore();
    home.style.display = "none";
    gameArea.style.display = "block";
    catX = 280;
    catY = 180;
    updateCat();
    randomMouse();
}

/* WASD MOVEMENT */
document.addEventListener("keydown", e => {
    if (gameArea.style.display !== "block") return;

    if (e.key === "w") catY -= speed;
    if (e.key === "s") catY += speed;
    if (e.key === "a") catX -= speed;
    if (e.key === "d") catX += speed;

    catX = Math.max(0, Math.min(560, catX));
    catY = Math.max(0, Math.min(360, catY));

    updateCat();
    checkCollision();
});

function updateCat() {
    cat.style.left = catX + "px";
    cat.style.top = catY + "px";
}

/* MOUSE */
function randomMouse() {
    mouseX = Math.random() * 570;
    mouseY = Math.random() * 370;
    mouse.style.left = mouseX + "px";
    mouse.style.top = mouseY + "px";
}

/* COLLISION */
function checkCollision() {
    if (
        catX < mouseX + 30 &&
        catX + 40 > mouseX &&
        catY < mouseY + 30 &&
        catY + 40 > mouseY
    ) {
        scoreValue++;
        updateScore();
        randomMouse();
    }
}

function updateScore() {
    document.getElementById("score").innerText =
        "Mice caught: " + scoreValue;
}
</script>

</body>
</html>
